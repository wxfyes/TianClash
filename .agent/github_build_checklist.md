# GitHub Actions ç¼–è¯‘æ£€æŸ¥æ¸…å•

## âœ… å·²å®Œæˆçš„æ£€æŸ¥

### 1. ä¾èµ–é¡¹æ£€æŸ¥
- âœ… **flutter_html** å·²æˆåŠŸæ·»åŠ åˆ° `pubspec.yaml`
- âœ… æ‰€æœ‰ä¾èµ–é¡¹éƒ½æ˜¯å…¬å¼€å¯ç”¨çš„åŒ…
- âœ… æ²¡æœ‰ä½¿ç”¨æœ¬åœ°è·¯å¾„ä¾èµ–(é™¤äº†é¡¹ç›®å†…çš„plugins)

### 2. ä»£ç æ ¼å¼åŒ–
- âœ… å·²è¿è¡Œ `dart format` æ ¼å¼åŒ–æ‰€æœ‰ä¿®æ”¹çš„æ–‡ä»¶
- âœ… ä¿®å¤äº† `print` -> `debugPrint` çš„è­¦å‘Š

### 3. ç”Ÿæˆçš„ä»£ç 
- âœ… `build_runner` å·²æˆåŠŸç”Ÿæˆ `Notice` æ¨¡å‹çš„ä»£ç 
- âœ… ç”Ÿæˆçš„æ–‡ä»¶:
  - `lib/models/generated/v2board.freezed.dart`
  - `lib/models/generated/v2board.g.dart`

### 4. ä¿®æ”¹çš„æ–‡ä»¶åˆ—è¡¨

#### æ–°å¢æ–‡ä»¶
1. `lib/views/dashboard/widgets/announcement_card.dart` - å…¬å‘Šå¡ç‰‡ç»„ä»¶

#### ä¿®æ”¹æ–‡ä»¶
1. `lib/models/v2board.dart` - æ·»åŠ  Notice æ¨¡å‹
2. `lib/common/v2board_service.dart` - æ·»åŠ  fetchNotices æ–¹æ³•
3. `lib/views/dashboard/widgets/widgets.dart` - å¯¼å‡º announcement_card
4. `lib/views/dashboard/dashboard.dart` - è°ƒæ•´å¸ƒå±€,æ·»åŠ å…¬å‘Šå¡ç‰‡
5. `lib/views/user_center.dart` - ä¸ºèœå•é¡¹æ·»åŠ å½©è‰²å›¾æ ‡èƒŒæ™¯
6. `lib/manager/app_manager.dart` - ä¸ºä¾§è¾¹æ å¯¼èˆªæ·»åŠ å½©è‰²å›¾æ ‡èƒŒæ™¯
7. `pubspec.yaml` - æ·»åŠ  flutter_html ä¾èµ–

## âš ï¸ éœ€è¦æ³¨æ„çš„äº‹é¡¹

### 1. ä»£ç é£æ ¼è­¦å‘Š
- æœ‰ä¸€äº› `prefer_single_quotes` è­¦å‘Š(åŒå¼•å·åº”è¯¥ç”¨å•å¼•å·)
- è¿™äº›æ˜¯ **info** çº§åˆ«,ä¸ä¼šå¯¼è‡´ç¼–è¯‘å¤±è´¥
- ä¸»è¦åœ¨ `announcement_card.dart` çš„ HTML æ ·å¼å®šä¹‰ä¸­

### 2. æ’ä»¶ç›®å½•çš„è­¦å‘Š
- `plugins/flutter_distributor` ç›®å½•æœ‰å¤§é‡è­¦å‘Š
- è¿™äº›æ˜¯ **ç¬¬ä¸‰æ–¹æ’ä»¶** çš„é—®é¢˜,ä¸å½±å“æˆ‘ä»¬çš„ä»£ç 
- GitHub Actions ç¼–è¯‘æ—¶ä¼šå¿½ç•¥è¿™äº›è­¦å‘Š

### 3. ç½‘ç»œä¾èµ–
- é¡¹ç›®ä½¿ç”¨äº† Git ä¾èµ–:
  - `re_editor` from GitHub
  - `flutter_js` from GitHub
- GitHub Actions å¯ä»¥æ­£å¸¸è®¿é—®è¿™äº›ä»“åº“

## ğŸš€ æ¨é€å‰çš„æœ€åæ£€æŸ¥

### è¿è¡Œä»¥ä¸‹å‘½ä»¤ç¡®è®¤:

```bash
# 1. ç¡®ä¿æ‰€æœ‰ç”Ÿæˆçš„ä»£ç æ˜¯æœ€æ–°çš„
dart run build_runner build --delete-conflicting-outputs

# 2. æ ¼å¼åŒ–ä»£ç 
dart format .

# 3. æ£€æŸ¥ä¸»è¦æ–‡ä»¶(å¿½ç•¥æ’ä»¶è­¦å‘Š)
flutter analyze lib/views lib/models lib/common lib/manager --no-fatal-infos
```

### é¢„æœŸç»“æœ:
- âœ… build_runner æˆåŠŸç”Ÿæˆä»£ç 
- âœ… dart format å®Œæˆæ ¼å¼åŒ–
- âœ… flutter analyze åªæœ‰ info çº§åˆ«çš„è­¦å‘Š,æ²¡æœ‰ error

## ğŸ“‹ GitHub Actions ç¼–è¯‘æµç¨‹

### ç¼–è¯‘æ­¥éª¤:
1. **Setup Flutter** - å®‰è£… Flutter SDK
2. **Get Dependencies** - è¿è¡Œ `flutter pub get`
3. **Generate Code** - è¿è¡Œ `build_runner build`
4. **Build APK/Windows/Linux** - å„å¹³å°ç¼–è¯‘

### å¯èƒ½çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ:

#### é—®é¢˜ 1: ç½‘ç»œè¶…æ—¶
- **åŸå› **: GitHub Actions è®¿é—® pub.dev æˆ– GitHub ä»“åº“è¶…æ—¶
- **è§£å†³**: é€šå¸¸ä¼šè‡ªåŠ¨é‡è¯•,æˆ–è€…æ‰‹åŠ¨é‡æ–°è¿è¡Œ workflow

#### é—®é¢˜ 2: build_runner å¤±è´¥
- **åŸå› **: ç”Ÿæˆçš„ä»£ç å†²çª
- **è§£å†³**: æœ¬åœ°å·²ç»è¿è¡Œè¿‡ `--delete-conflicting-outputs`,åº”è¯¥ä¸ä¼šæœ‰é—®é¢˜

#### é—®é¢˜ 3: ä¾èµ–ç‰ˆæœ¬å†²çª
- **åŸå› **: flutter_html ä¸å…¶ä»–åŒ…ç‰ˆæœ¬ä¸å…¼å®¹
- **è§£å†³**: å·²ç»æµ‹è¯•è¿‡æœ¬åœ°ç¼–è¯‘æˆåŠŸ,åº”è¯¥æ²¡é—®é¢˜

## âœ¨ æ–°åŠŸèƒ½æ€»ç»“

### 1. V2Board å…¬å‘Šæ¨¡å—
- ä» v2board API è·å–å…¬å‘Šåˆ—è¡¨
- æ”¯æŒ HTML æ ¼å¼æ¸²æŸ“(é¢œè‰²ã€å­—ä½“ã€é“¾æ¥)
- æ”¯æŒå¤šæ¡å…¬å‘Šç¿»é¡µæµè§ˆ
- ç‚¹å‡»æŸ¥çœ‹å®Œæ•´å…¬å‘Šè¯¦æƒ…

### 2. å½©è‰²å›¾æ ‡ç¾åŒ–
- ä¾§è¾¹æ å¯¼èˆªå›¾æ ‡æœ‰å½©è‰²åœ†å½¢èƒŒæ™¯
- ç”¨æˆ·ä¸­å¿ƒèœå•é¡¹æœ‰å½©è‰²å›¾æ ‡èƒŒæ™¯
- æ¯ä¸ªåŠŸèƒ½éƒ½æœ‰ç‹¬ç‰¹çš„é¢œè‰²æ ‡è¯†

### 3. å¸ƒå±€è°ƒæ•´
- ä»ªè¡¨ç›˜ç½‘ç»œæ£€æµ‹å’Œå…¬å‘Šå¡ç‰‡å¹¶æ’æ˜¾ç¤º
- æ¯ä¸ªå¡ç‰‡å  50% å®½åº¦

## ğŸ¯ æ¨é€å»ºè®®

### æ¨èçš„ Git æ“ä½œ:

```bash
# 1. æŸ¥çœ‹ä¿®æ”¹çš„æ–‡ä»¶
git status

# 2. æ·»åŠ æ‰€æœ‰ä¿®æ”¹
git add .

# 3. æäº¤
git commit -m "feat: æ·»åŠ v2boardå…¬å‘Šæ¨¡å—å’Œå½©è‰²å›¾æ ‡ç¾åŒ–

- æ·»åŠ å…¬å‘Šå¡ç‰‡ç»„ä»¶,æ”¯æŒHTMLæ¸²æŸ“
- ä¸ºä¾§è¾¹æ å’Œç”¨æˆ·ä¸­å¿ƒèœå•æ·»åŠ å½©è‰²å›¾æ ‡èƒŒæ™¯
- è°ƒæ•´ä»ªè¡¨ç›˜å¸ƒå±€,ç½‘ç»œæ£€æµ‹å’Œå…¬å‘Šå¹¶æ’æ˜¾ç¤º
- æ·»åŠ flutter_htmlä¾èµ–"

# 4. æ¨é€åˆ° GitHub
git push origin main
```

### æ ‡ç­¾å»ºè®®:
å¦‚æœè¦å‘å¸ƒæ–°ç‰ˆæœ¬,å»ºè®®æ›´æ–°ç‰ˆæœ¬å·:
- å½“å‰ç‰ˆæœ¬: `0.8.90+2025100801`
- å»ºè®®æ–°ç‰ˆæœ¬: `0.8.91+2025120401` (2025å¹´12æœˆ4æ—¥)

```bash
# æ›´æ–° pubspec.yaml ä¸­çš„ç‰ˆæœ¬å·å
git tag v0.8.91
git push origin v0.8.91
```

## ğŸ“Š é¢„æœŸç¼–è¯‘ç»“æœ

### æˆåŠŸæ ‡å¿—:
- âœ… Windows build æˆåŠŸ
- âœ… Linux build æˆåŠŸ
- âœ… Android APK build æˆåŠŸ
- âœ… æ‰€æœ‰å¹³å°çš„ artifacts ç”Ÿæˆ

### ç¼–è¯‘æ—¶é—´ä¼°è®¡:
- Windows: ~10-15 åˆ†é’Ÿ
- Linux: ~10-15 åˆ†é’Ÿ
- Android: ~15-20 åˆ†é’Ÿ

## ğŸ” å¦‚æœç¼–è¯‘å¤±è´¥

### æ£€æŸ¥æ­¥éª¤:
1. æŸ¥çœ‹ GitHub Actions æ—¥å¿—
2. æ‰¾åˆ°å…·ä½“çš„é”™è¯¯ä¿¡æ¯
3. æ£€æŸ¥æ˜¯å¦æ˜¯ç½‘ç»œé—®é¢˜(å¯ä»¥é‡æ–°è¿è¡Œ)
4. æ£€æŸ¥æ˜¯å¦æ˜¯ä»£ç é—®é¢˜(éœ€è¦ä¿®å¤åé‡æ–°æ¨é€)

### å¸¸è§é”™è¯¯:
- **ä¾èµ–ä¸‹è½½å¤±è´¥**: é‡æ–°è¿è¡Œ workflow
- **ä»£ç ç”Ÿæˆå¤±è´¥**: æ£€æŸ¥ build_runner é…ç½®
- **ç¼–è¯‘é”™è¯¯**: æ£€æŸ¥ä»£ç è¯­æ³•å’Œå¯¼å…¥

## âœ… æ€»ç»“

**å¯ä»¥å®‰å…¨æ¨é€åˆ° GitHub!**

æ‰€æœ‰ä¿®æ”¹éƒ½å·²ç»è¿‡æœ¬åœ°æµ‹è¯•:
- âœ… ä»£ç æ ¼å¼åŒ–å®Œæˆ
- âœ… ç”Ÿæˆçš„ä»£ç å·²æ›´æ–°
- âœ… æœ¬åœ° Windows ç¼–è¯‘æˆåŠŸ
- âœ… åº”ç”¨è¿è¡Œæ­£å¸¸
- âœ… æ‰€æœ‰æ–°åŠŸèƒ½éƒ½å·²æµ‹è¯•

åªéœ€è¦æ³¨æ„:
- æ¨é€åå…³æ³¨ GitHub Actions çš„ç¼–è¯‘çŠ¶æ€
- å¦‚æœæœ‰ç½‘ç»œè¶…æ—¶,é‡æ–°è¿è¡Œå³å¯
- ç¼–è¯‘æˆåŠŸåä¼šè‡ªåŠ¨ç”Ÿæˆå„å¹³å°çš„å®‰è£…åŒ…
